<% include ./partials/header.ejs %>
<div class="w-full min-h-screen bg-zinc-800 px-10 py-5 ">
    <h1 class="text-xl text-white">Create a New Post</h1>
    <hr class="opacity-10 mt-3 text-white">
    <form action="/post/createPost" method="post" enctype="multipart/form-data">
        <input type="text" class="block w-1/3 px-3 py-2 mt-2 rounded-md"  placeholder="Title" name="postTitle">
        <textarea class="block h-60 w-1/3 px-3 py-2 mt-2 rounded-md" type="text" placeholder="Description" name="postDescription"></textarea>
         <input class="block w-1/3 px-3 py-2 text-white" type="file" name="postImage">
         <select class="block w-1/3 px-3 py-2 mt-2 rounded-md text-white" name="postCategory">
            <option value="breakfast">Breakfast</option>
            <option value="lunch">Lunch</option>
            <option value="dinner">Dinner</option>
            <option value="drinks">Drinks</option>
            <option value="desserts">Desserts</option>
            <option value="snacks">Snacks</option>
            <option value="healthy">Healthy</option>
        </select>

         <input type="text" class="block w-1/3 px-3 py-2 mt-2 rounded-md"  placeholder="video" name="postVideo">
         
          <!-- Ingredients -->
    <div id="ingredients">
        <div class="ingredient-input">
            <input type="text" class="block w-1/3 px-3 py-2 mt-2 rounded-md" placeholder="Ingredient 1" name="ingredients[]">
        </div>
    </div>

    <!-- Add Ingredient Button -->
    <button type="button" onclick="addIngredient()" class="block w-1/3 px-3 py-2 mt-2 bg-blue-500 rounded-md text-white">Add Ingredient</button>
    
    <!-- Submit Button -->
    <input class="block w-1/3 px-3 py-2 mt-2 bg-red-700 rounded-md text-white" type="submit" value="Create Post">
    </form>
</div>


<script>
    let ingredientIndex = 1;

    function addIngredient() {
        ingredientIndex++;
        const ingredientsDiv = document.getElementById("ingredients");
        const newIngredientInput = document.createElement("div");
        newIngredientInput.classList.add("ingredient-input");
        newIngredientInput.innerHTML = `
            <input type="text" class="block w-1/3 px-3 py-2 mt-2 rounded-md" placeholder="Ingredient ${ingredientIndex}" name="ingredients[]">
        `;
        ingredientsDiv.appendChild(newIngredientInput);
    }
</script>
<% include ./partials/footer.ejs %>